<div class="container form-container mb-5">
	<form [formGroup]="checkoutFormGroup" (ngSubmit)="onSubmit()">
		<!-- customer form group -->
		<fieldset class="form-group border p-3" formGroupName="customer">
			<legend class="w-auto px-2">Customer</legend>
			<div class="row">
				<div class="col-md-6 dash-form-group">
					<label>First Name</label>
					<input formControlName="firstName" type="text" />
				</div>
				<div class="col-md-6 dash-form-group">
					<label class="title">Last Name</label>
					<input formControlName="lastName" type="text" />
				</div>
			</div>
			<div class="row dash-form-group">
				<label class="title">Email</label>
				<input formControlName="email" type="email" />
			</div>
		</fieldset>

		<!-- shipping Address -->
		<fieldset
			class="form-group border p-3 mt-3"
			formGroupName="shippingAddress"
		>
			<legend class="w-auto px-2">Shipping</legend>
			<div class="row">
				<div class="col-md-8 dash-form-group">
					<label>Street</label>
					<input formControlName="street" type="text" />
				</div>
				<div class="col-md-4 dash-form-group">
					<label class="title">City</label>
					<input formControlName="city" type="text" />
				</div>
			</div>
			<div class="row">
				<div class="col-md-4 dash-form-group">
					<label class="title">Country</label>
					<select
						formControlName="country"
						(change)="getStates('shippingAddress')"
					>
						<option
							*ngFor="let country of countries"
							[ngValue]="country"
						>
							{{ country.name }}
						</option>
					</select>
				</div>
				<div class="col-md-4 dash-form-group">
					<label class="title">State</label>
					<select formControlName="state">
						<option
							*ngFor="let state of shippingAddressStates"
							[ngValue]="state"
						>
							{{ state.name }}
						</option>
					</select>
				</div>
				<div class="col-md-4 dash-form-group">
					<label class="title">Zip Code</label>
					<input formControlName="zipCode" type="text" />
				</div>
			</div>
			<!-- Add check box to copy shipping to billing -->
			<div class="row">
				<div class="dash-form-group d-flex flex-row">
					<input
						formControlName="active"
						type="checkbox"
						(change)="copyShippingAddressToBillingAddress($event)"
					/>
					<label class="title"
						>Billing Address same as Shipping Address</label
					>
				</div>
			</div>
		</fieldset>

		<!-- Billing Address -->
		<fieldset
			class="form-group border p-3 mt-3"
			formGroupName="billingAddress"
		>
			<legend class="w-auto px-2">Billing</legend>
			<div class="row">
				<div class="col-md-8 dash-form-group">
					<label>Street</label>
					<input formControlName="street" type="text" />
				</div>
				<div class="col-md-4 dash-form-group">
					<label class="title">City</label>
					<input formControlName="city" type="text" />
				</div>
			</div>
			<div class="row">
				<div class="col-md-4 dash-form-group">
					<label class="title">Country</label>
					<select
						formControlName="country"
						(change)="getStates('billingAddress')"
					>
						<option
							*ngFor="let country of countries"
							[ngValue]="country"
						>
							{{ country.name }}
						</option>
					</select>
				</div>
				<div class="col-md-4 dash-form-group">
					<label class="title">State</label>
					<select formControlName="state">
						<option
							*ngFor="let state of billingAddressStates"
							[ngValue]="state"
						>
							{{ state.name }}
						</option>
					</select>
				</div>
				<div class="col-md-4 dash-form-group">
					<label class="title">Zip Code</label>
					<input formControlName="zipCode" type="text" />
				</div>
			</div>
		</fieldset>

		<!-- Credit Card -->
		<fieldset class="form-group border p-3 mt-3" formGroupName="creditCard">
			<legend class="w-auto px-2">Credit Card</legend>
			<div id="card-element">
				<!-- a Stripe element will be inserted here -->
			</div>

			<!-- Used to display form errors -->
			<div
				id="card-errors"
				class="displayError.textContent!=='': 'alert alert-danger mt-1'"
			></div>
		</fieldset>

		<!-- submit button-->
		<div>
			<button type="submit" class="btn btn-info mt-3">
				Place your order
			</button>
		</div>
	</form>
</div>
