<section class="page-section pad">
	<div class="container">
		<div class="row mt-5 search-container">
			<app-search></app-search>
		</div>

		<div class="row py-3">
			<app-product-category-menu></app-product-category-menu>
		</div>

		<div class="row d-flex justify-content-start position-relative">
			<div *ngFor="let product of products" class="col-md-3 card mx-2">
				<a routerLink="/products/{{ product.id }}">
					<img
						src="{{ product.imageUrl }}"
						class="img-responsive mb-4"
					/>
				</a>

				<div class="produt-info">
					<a routerLink="/products/{{ product.id }}">
						<h3>{{ product.name }}</h3>
					</a>

					<div class="price">
						{{ product.unitPrice | currency: "USD" }}
					</div>
					<button
						(click)="addToCart(product)"
						class="btn btn-primary btn-sm mt-2"
					>
						Add to cart
					</button>
				</div>
			</div>
		</div>

		<div
			*ngIf="products?.length == 0"
			class="alert alert-warning col-md-12"
			role="alert"
		>
			No products found.
		</div>

		<div class="footer-pagination">
			<ngb-pagination
				[(page)]="pageNumber"
				[pageSize]="pageSize"
				[collectionSize]="totalElements"
				[maxSize]="5"
				[boundaryLinks]="true"
				(pageChange)="listProducts()"
			></ngb-pagination>

			<div class="page-size">
				<span class="mr-2">Page Size</span>
				<select (change)="updatePageSize($event)">
					<option>2</option>
					<option selected="true">5</option>
					<option>10</option>
					<option>20</option>
					<option>50</option>
				</select>
			</div>
		</div>
	</div>
</section>
